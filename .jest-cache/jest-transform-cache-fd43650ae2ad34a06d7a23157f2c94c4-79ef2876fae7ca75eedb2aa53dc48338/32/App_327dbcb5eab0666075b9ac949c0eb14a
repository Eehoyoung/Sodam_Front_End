b7aad57b3bca41f6918a7fa779f6ed13
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _reactNativeSafeAreaContext = require("react-native-safe-area-context");
var _ErrorBoundary = _interopRequireDefault(require("./src/components/ErrorBoundary"));
var _InitializationErrorBoundary = _interopRequireDefault(require("./src/components/InitializationErrorBoundary"));
var _colors = require("./src/theme/colors");
var _typography = require("./src/theme/typography");
var _ThemeProvider = _interopRequireDefault(require("./src/common/providers/ThemeProvider"));
var _config = require("./src/navigation/config");
var _AuthMockProvider = _interopRequireDefault(require("./src/contexts/AuthMockProvider"));
var _AuthContext = require("./src/contexts/AuthContext");
var _reactQuery = require("@tanstack/react-query");
var _queryClient = require("./src/common/utils/queryClient");
var _NativeModuleValidator = require("./src/utils/NativeModuleValidator");
var _contextReadiness = require("./src/utils/contextReadiness");
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var App = function App() {
  var contextManager = (0, _contextReadiness.getContextReadinessManager)();
  (0, _react.useEffect)(function () {
    console.log('[RECOVERY] App baseline mounted');
    if (typeof global !== 'undefined' && !global.__APP_START_TIME__) {
      global.__APP_START_TIME__ = Date.now();
    }
  }, []);
  try {
    if (_config.ENABLE_SCREENS_NATIVE && (0, _config.stageAtLeast)(7)) {
      var screens = require('react-native-screens');
      if (typeof (screens == null ? void 0 : screens.enableScreens) === 'function') {
        screens.enableScreens(true);
      }
    }
  } catch (e) {
    console.warn('[RECOVERY] enableScreens skipped:', (e == null ? void 0 : e.message) || e);
  }
  var _useState = (0, _react.useState)(false),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    appReady = _useState2[0],
    setAppReady = _useState2[1];
  (0, _react.useEffect)(function () {
    var task = _reactNative.InteractionManager.runAfterInteractions(function () {
      setAppReady(true);
      console.log('[RECOVERY] App interaction readiness achieved');
    });
    return function () {
      task == null || task.cancel == null || task.cancel();
    };
  }, []);
  var _useState3 = (0, _react.useState)(contextManager.isContextReady()),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    contextReady = _useState4[0],
    setContextReady = _useState4[1];
  (0, _react.useEffect)(function () {
    if (contextManager.isContextReady()) return;
    contextManager.onReady(function () {
      setContextReady(true);
    });
  }, [contextManager]);
  var _useState5 = (0, _react.useState)({
      isValid: false,
      isLoading: true
    }),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    validation = _useState6[0],
    setValidation = _useState6[1];
  (0, _react.useEffect)(function () {
    var mounted = true;
    var validate = function () {
      var _ref = (0, _asyncToGenerator2.default)(function* () {
        try {
          console.log('[RECOVERY] Starting critical module validation');
          var ok = yield _NativeModuleValidator.CriticalModuleValidator.performCriticalValidation();
          if (!mounted) return;
          if (!ok) {
            var res = _NativeModuleValidator.CriticalModuleValidator.validateGestureHandler();
            setValidation({
              isValid: false,
              isLoading: false,
              error: res.error
            });
            console.warn('[RECOVERY] Critical module validation failed:', res.error);
          } else {
            setValidation({
              isValid: true,
              isLoading: false
            });
            console.log('[RECOVERY] Critical module validation successful');
            if (appReady) {
              _reactNative.InteractionManager.runAfterInteractions(function () {
                requestAnimationFrame(function () {
                  contextManager.signalReady();
                  (0, _contextReadiness.logContextReadinessTiming)();
                });
              });
            }
          }
        } catch (e) {
          var _e$message;
          if (!mounted) return;
          console.error('[RECOVERY] Critical module validation error:', e);
          setValidation({
            isValid: false,
            isLoading: false,
            error: (_e$message = e == null ? void 0 : e.message) != null ? _e$message : String(e)
          });
        }
      });
      return function validate() {
        return _ref.apply(this, arguments);
      };
    }();
    validate();
    return function () {
      mounted = false;
    };
  }, [appReady, contextManager]);
  (0, _react.useEffect)(function () {
    if (validation.isValid && appReady && !contextManager.isContextReady()) {
      _reactNative.InteractionManager.runAfterInteractions(function () {
        requestAnimationFrame(function () {
          contextManager.signalReady();
          (0, _contextReadiness.logContextReadinessTiming)();
        });
      });
    }
  }, [validation.isValid, appReady, contextManager]);
  if (validation.isLoading) {
    return (0, _jsxRuntime.jsxs)(_reactNative.View, {
      style: {
        flex: 1,
        alignItems: 'center',
        justifyContent: 'center'
      },
      children: [(0, _jsxRuntime.jsx)(_reactNative.ActivityIndicator, {
        size: "large",
        color: _colors.colors.brandPrimary
      }), (0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: {
          marginTop: 12,
          color: _colors.colors.textSecondary
        },
        children: "Validating native modules..."
      })]
    });
  }
  if (!validation.isValid) {
    return (0, _jsxRuntime.jsxs)(_reactNative.View, {
      style: {
        flex: 1,
        alignItems: 'center',
        justifyContent: 'center',
        padding: 16
      },
      children: [(0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: {
          fontSize: _typography.typography.sizes.md,
          color: _colors.colors.textPrimary,
          textAlign: 'center'
        },
        children: "Critical native modules failed validation."
      }), validation.error ? (0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: {
          marginTop: 8,
          color: _colors.colors.textSecondary,
          textAlign: 'center'
        },
        children: validation.error
      }) : null]
    });
  }
  if (!contextReady) {
    return (0, _jsxRuntime.jsxs)(_reactNative.View, {
      style: {
        flex: 1,
        alignItems: 'center',
        justifyContent: 'center'
      },
      children: [(0, _jsxRuntime.jsx)(_reactNative.ActivityIndicator, {
        size: "large",
        color: _colors.colors.brandPrimary
      }), (0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: {
          marginTop: 12,
          color: _colors.colors.textSecondary
        },
        children: "Preparing UI..."
      })]
    });
  }
  var AppNavigator = require('./src/navigation/AppNavigator').default;
  var NavigatorTree = (0, _jsxRuntime.jsx)(AppNavigator, {
    appReady: appReady
  });
  var WrappedByLocalBoundary = (0, _config.stageAtLeast)(16) ? (0, _jsxRuntime.jsx)(_ErrorBoundary.default, {
    children: NavigatorTree
  }) : NavigatorTree;
  var WithRealAuth = (0, _jsxRuntime.jsx)(_AuthContext.AuthProvider, {
    children: WrappedByLocalBoundary
  });
  var WithAuthMock = (0, _config.stageAtLeast)(17) ? (0, _jsxRuntime.jsx)(_AuthMockProvider.default, {
    children: WithRealAuth
  }) : WithRealAuth;
  var handleTimingIssue = function handleTimingIssue(error, errorInfo) {
    console.warn('[TIMING_COORDINATION] ReactNoCrashSoftException detected during app lifecycle');
  };
  return (0, _jsxRuntime.jsx)(_reactNative.View, {
    style: {
      flex: 1
    },
    children: (0, _jsxRuntime.jsx)(_InitializationErrorBoundary.default, {
      onTimingIssue: handleTimingIssue,
      children: (0, _jsxRuntime.jsx)(_reactQuery.QueryClientProvider, {
        client: _queryClient.queryClient,
        children: (0, _jsxRuntime.jsx)(_reactNativeSafeAreaContext.SafeAreaProvider, {
          children: (0, _jsxRuntime.jsx)(_ErrorBoundary.default, {
            children: (0, _jsxRuntime.jsx)(_ThemeProvider.default, {
              children: WithAuthMock
            })
          })
        })
      })
    })
  });
};
var styles = _reactNative.StyleSheet.create({
  safeArea: {
    flex: 1,
    backgroundColor: _colors.colors.background
  },
  container: {
    flex: 1,
    alignItems: 'center',
    justifyContent: 'center',
    padding: 16
  },
  title: {
    fontSize: _typography.typography.sizes.xl,
    fontWeight: _typography.typography.weights.bold,
    marginBottom: 8,
    color: _colors.colors.textPrimary
  },
  subtitle: {
    fontSize: _typography.typography.sizes.md,
    color: _colors.colors.textSecondary,
    marginBottom: 16,
    textAlign: 'center'
  },
  body: {
    fontSize: _typography.typography.sizes.sm,
    color: _colors.colors.textTertiary,
    textAlign: 'center'
  }
});
var _default = exports.default = App;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3ROYXRpdmUiLCJfcmVhY3ROYXRpdmVTYWZlQXJlYUNvbnRleHQiLCJfRXJyb3JCb3VuZGFyeSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfSW5pdGlhbGl6YXRpb25FcnJvckJvdW5kYXJ5IiwiX2NvbG9ycyIsIl90eXBvZ3JhcGh5IiwiX1RoZW1lUHJvdmlkZXIiLCJfY29uZmlnIiwiX0F1dGhNb2NrUHJvdmlkZXIiLCJfQXV0aENvbnRleHQiLCJfcmVhY3RRdWVyeSIsIl9xdWVyeUNsaWVudCIsIl9OYXRpdmVNb2R1bGVWYWxpZGF0b3IiLCJfY29udGV4dFJlYWRpbmVzcyIsIl9qc3hSdW50aW1lIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJBcHAiLCJjb250ZXh0TWFuYWdlciIsImdldENvbnRleHRSZWFkaW5lc3NNYW5hZ2VyIiwidXNlRWZmZWN0IiwiY29uc29sZSIsImxvZyIsImdsb2JhbCIsIl9fQVBQX1NUQVJUX1RJTUVfXyIsIkRhdGUiLCJub3ciLCJFTkFCTEVfU0NSRUVOU19OQVRJVkUiLCJzdGFnZUF0TGVhc3QiLCJzY3JlZW5zIiwiZW5hYmxlU2NyZWVucyIsIndhcm4iLCJtZXNzYWdlIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwiYXBwUmVhZHkiLCJzZXRBcHBSZWFkeSIsInRhc2siLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJydW5BZnRlckludGVyYWN0aW9ucyIsImNhbmNlbCIsIl91c2VTdGF0ZTMiLCJpc0NvbnRleHRSZWFkeSIsIl91c2VTdGF0ZTQiLCJjb250ZXh0UmVhZHkiLCJzZXRDb250ZXh0UmVhZHkiLCJvblJlYWR5IiwiX3VzZVN0YXRlNSIsImlzVmFsaWQiLCJpc0xvYWRpbmciLCJfdXNlU3RhdGU2IiwidmFsaWRhdGlvbiIsInNldFZhbGlkYXRpb24iLCJtb3VudGVkIiwidmFsaWRhdGUiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwib2siLCJDcml0aWNhbE1vZHVsZVZhbGlkYXRvciIsInBlcmZvcm1Dcml0aWNhbFZhbGlkYXRpb24iLCJyZXMiLCJ2YWxpZGF0ZUdlc3R1cmVIYW5kbGVyIiwiZXJyb3IiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzaWduYWxSZWFkeSIsImxvZ0NvbnRleHRSZWFkaW5lc3NUaW1pbmciLCJfZSRtZXNzYWdlIiwiU3RyaW5nIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJqc3hzIiwiVmlldyIsInN0eWxlIiwiZmxleCIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsImNoaWxkcmVuIiwianN4IiwiQWN0aXZpdHlJbmRpY2F0b3IiLCJzaXplIiwiY29sb3IiLCJjb2xvcnMiLCJicmFuZFByaW1hcnkiLCJUZXh0IiwibWFyZ2luVG9wIiwidGV4dFNlY29uZGFyeSIsInBhZGRpbmciLCJmb250U2l6ZSIsInR5cG9ncmFwaHkiLCJzaXplcyIsIm1kIiwidGV4dFByaW1hcnkiLCJ0ZXh0QWxpZ24iLCJBcHBOYXZpZ2F0b3IiLCJOYXZpZ2F0b3JUcmVlIiwiV3JhcHBlZEJ5TG9jYWxCb3VuZGFyeSIsIldpdGhSZWFsQXV0aCIsIkF1dGhQcm92aWRlciIsIldpdGhBdXRoTW9jayIsImhhbmRsZVRpbWluZ0lzc3VlIiwiZXJyb3JJbmZvIiwib25UaW1pbmdJc3N1ZSIsIlF1ZXJ5Q2xpZW50UHJvdmlkZXIiLCJjbGllbnQiLCJxdWVyeUNsaWVudCIsIlNhZmVBcmVhUHJvdmlkZXIiLCJzdHlsZXMiLCJTdHlsZVNoZWV0IiwiY3JlYXRlIiwic2FmZUFyZWEiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kIiwiY29udGFpbmVyIiwidGl0bGUiLCJ4bCIsImZvbnRXZWlnaHQiLCJ3ZWlnaHRzIiwiYm9sZCIsIm1hcmdpbkJvdHRvbSIsInN1YnRpdGxlIiwiYm9keSIsInNtIiwidGV4dFRlcnRpYXJ5IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiQXBwLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTWFpbiBBcHAgQ29tcG9uZW50IC0gTWluaW1hbCBCYXNlbGluZSAoUmVzZXQpIHdpdGggVGltaW5nIE9wdGltaXphdGlvblxyXG4gKiBHb2FsOiBQcm92aWRlIGEgY3Jhc2gtZnJlZSwgZGVwZW5kZW5jeS1saWdodCBlbnRyeSBwb2ludCBzbyB3ZSBjYW5cclxuICogcmVpbnRyb2R1Y2UgZmVhdHVyZXMgaW5jcmVtZW50YWxseSBhbmQgdmFsaWRhdGUgc3RhYmlsaXR5IGF0IGVhY2ggc3RlcC5cclxuICpcclxuICogRW5oYW5jZWQgd2l0aCBSZWFjdE5vQ3Jhc2hTb2Z0RXhjZXB0aW9uIHRpbWluZyBpc3N1ZSByZXNvbHV0aW9uOlxyXG4gKiAtIEluaXRpYWxpemF0aW9uRXJyb3JCb3VuZGFyeSBmb3IgZ3JhY2VmdWwgdGltaW5nIGlzc3VlIGhhbmRsaW5nXHJcbiAqIC0gQ29udGV4dFJlYWRpbmVzc01hbmFnZXIgZm9yIHByb3BlciBpbml0aWFsaXphdGlvbiBjb29yZGluYXRpb25cclxuICogLSBPcHRpbWl6ZWQgQ3JpdGljYWxNb2R1bGVWYWxpZGF0b3Igd2l0aCBjYWNoaW5nXHJcbiAqL1xyXG5pbXBvcnQgUmVhY3QsIHt1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7QWN0aXZpdHlJbmRpY2F0b3IsIEludGVyYWN0aW9uTWFuYWdlciwgU3R5bGVTaGVldCwgVGV4dCwgVmlld30gZnJvbSAncmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IHtTYWZlQXJlYVByb3ZpZGVyfSBmcm9tICdyZWFjdC1uYXRpdmUtc2FmZS1hcmVhLWNvbnRleHQnO1xyXG5pbXBvcnQgRXJyb3JCb3VuZGFyeSBmcm9tICcuL3NyYy9jb21wb25lbnRzL0Vycm9yQm91bmRhcnknO1xyXG5pbXBvcnQgSW5pdGlhbGl6YXRpb25FcnJvckJvdW5kYXJ5IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvSW5pdGlhbGl6YXRpb25FcnJvckJvdW5kYXJ5JztcclxuaW1wb3J0IHtjb2xvcnN9IGZyb20gJy4vc3JjL3RoZW1lL2NvbG9ycyc7XHJcbmltcG9ydCB7dHlwb2dyYXBoeX0gZnJvbSAnLi9zcmMvdGhlbWUvdHlwb2dyYXBoeSc7XHJcbmltcG9ydCBUaGVtZVByb3ZpZGVyIGZyb20gJy4vc3JjL2NvbW1vbi9wcm92aWRlcnMvVGhlbWVQcm92aWRlcic7XHJcbmltcG9ydCB7RU5BQkxFX1NDUkVFTlNfTkFUSVZFLCBzdGFnZUF0TGVhc3R9IGZyb20gJy4vc3JjL25hdmlnYXRpb24vY29uZmlnJztcclxuaW1wb3J0IEF1dGhNb2NrUHJvdmlkZXIgZnJvbSAnLi9zcmMvY29udGV4dHMvQXV0aE1vY2tQcm92aWRlcic7XHJcbmltcG9ydCB7QXV0aFByb3ZpZGVyfSBmcm9tICcuL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dCc7XHJcbmltcG9ydCB7UXVlcnlDbGllbnRQcm92aWRlcn0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcclxuaW1wb3J0IHtxdWVyeUNsaWVudH0gZnJvbSAnLi9zcmMvY29tbW9uL3V0aWxzL3F1ZXJ5Q2xpZW50JztcclxuaW1wb3J0IHtDcml0aWNhbE1vZHVsZVZhbGlkYXRvcn0gZnJvbSAnLi9zcmMvdXRpbHMvTmF0aXZlTW9kdWxlVmFsaWRhdG9yJztcclxuaW1wb3J0IHtnZXRDb250ZXh0UmVhZGluZXNzTWFuYWdlciwgbG9nQ29udGV4dFJlYWRpbmVzc1RpbWluZ30gZnJvbSAnLi9zcmMvdXRpbHMvY29udGV4dFJlYWRpbmVzcyc7XHJcblxyXG5jb25zdCBBcHA6IFJlYWN0LkZDID0gKCkgPT4ge1xyXG4gICAgLy8gQ29udGV4dCByZWFkaW5lc3MgbWFuYWdlciBmb3IgdGltaW5nIGNvb3JkaW5hdGlvblxyXG4gICAgY29uc3QgY29udGV4dE1hbmFnZXIgPSBnZXRDb250ZXh0UmVhZGluZXNzTWFuYWdlcigpO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgLy8gT2JzZXJ2YWJpbGl0eSBtYXJrZXIgZm9yIExvZ2NhdC1kcml2ZW4gaXRlcmF0aW9uc1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbUkVDT1ZFUlldIEFwcCBiYXNlbGluZSBtb3VudGVkJyk7XHJcblxyXG4gICAgICAgIC8vIE1hcmsgYXBwIHN0YXJ0IHRpbWUgZm9yIHRpbWluZyBkaWFnbm9zdGljc1xyXG4gICAgICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiAhKGdsb2JhbCBhcyBhbnkpLl9fQVBQX1NUQVJUX1RJTUVfXykge1xyXG4gICAgICAgICAgICAoZ2xvYmFsIGFzIGFueSkuX19BUFBfU1RBUlRfVElNRV9fID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgLy8gSXRlciAwNzogZW5hYmxlU2NyZWVucyh0cnVlKSBndWFyZGVkIOKAlCBhbHNvIGdhdGVkIGJ5IEVOQUJMRV9TQ1JFRU5TX05BVElWRSB0byBhdm9pZCBjb25zb2xlIGVycm9ycyB3aGVuIG5hdGl2ZSBtb2R1bGUgaXMgYWJzZW50XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGlmIChFTkFCTEVfU0NSRUVOU19OQVRJVkUgJiYgc3RhZ2VBdExlYXN0KDcpKSB7XHJcbiAgICAgICAgICAgIC8vIGR5bmFtaWMgcmVxdWlyZSB0byBhdm9pZCBidW5kbGluZyBpc3N1ZXMgb24gd2ViL3Rlc3RzXHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdmFyLXJlcXVpcmVzXHJcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlbnMgPSByZXF1aXJlKCdyZWFjdC1uYXRpdmUtc2NyZWVucycpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNjcmVlbnM/LmVuYWJsZVNjcmVlbnMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHNjcmVlbnMuZW5hYmxlU2NyZWVucyh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1tSRUNPVkVSWV0gZW5hYmxlU2NyZWVucyBza2lwcGVkOicsIChlIGFzIGFueSk/Lm1lc3NhZ2UgfHwgZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgW2FwcFJlYWR5LCBzZXRBcHBSZWFkeV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhc2sgPSBJbnRlcmFjdGlvbk1hbmFnZXIucnVuQWZ0ZXJJbnRlcmFjdGlvbnMoKCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRBcHBSZWFkeSh0cnVlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tSRUNPVkVSWV0gQXBwIGludGVyYWN0aW9uIHJlYWRpbmVzcyBhY2hpZXZlZCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgLSBJbnRlcmFjdGlvbk1hbmFnZXIgVGFzayBtYXkgbm90IGhhdmUgY2FuY2VsIGluIHNvbWUgdmVyc2lvbnNcclxuICAgICAgICAgICAgdGFzaz8uY2FuY2VsPy4oKTtcclxuICAgICAgICB9O1xyXG4gICAgfSwgW10pO1xyXG4gICAgLy8gQ29udGV4dCByZWFkaW5lc3Mgc3RhdGUgYW5kIHN1YnNjcmlwdGlvblxyXG4gICAgY29uc3QgW2NvbnRleHRSZWFkeSwgc2V0Q29udGV4dFJlYWR5XSA9IHVzZVN0YXRlKGNvbnRleHRNYW5hZ2VyLmlzQ29udGV4dFJlYWR5KCkpO1xyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoY29udGV4dE1hbmFnZXIuaXNDb250ZXh0UmVhZHkoKSkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnRleHRNYW5hZ2VyLm9uUmVhZHkoKCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRDb250ZXh0UmVhZHkodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbY29udGV4dE1hbmFnZXJdKTtcclxuICAgIC8vIENyaXRpY2FsIG5hdGl2ZSBtb2R1bGUgdmFsaWRhdGlvbiBnYXRpbmdcclxuICAgIGNvbnN0IFt2YWxpZGF0aW9uLCBzZXRWYWxpZGF0aW9uXSA9IHVzZVN0YXRlPHtcclxuICAgICAgICBpc1ZhbGlkOiBib29sZWFuO1xyXG4gICAgICAgIGlzTG9hZGluZzogYm9vbGVhbjtcclxuICAgICAgICBlcnJvcj86IHN0cmluZztcclxuICAgIH0+KHtpc1ZhbGlkOiBmYWxzZSwgaXNMb2FkaW5nOiB0cnVlfSk7XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgbGV0IG1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICBjb25zdCB2YWxpZGF0ZSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tSRUNPVkVSWV0gU3RhcnRpbmcgY3JpdGljYWwgbW9kdWxlIHZhbGlkYXRpb24nKTtcclxuICAgICAgICAgICAgICBjb25zdCBvayA9IGF3YWl0IENyaXRpY2FsTW9kdWxlVmFsaWRhdG9yLnBlcmZvcm1Dcml0aWNhbFZhbGlkYXRpb24oKTtcclxuICAgICAgICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKCFvaykge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBDcml0aWNhbE1vZHVsZVZhbGlkYXRvci52YWxpZGF0ZUdlc3R1cmVIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgIHNldFZhbGlkYXRpb24oe2lzVmFsaWQ6IGZhbHNlLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogcmVzLmVycm9yfSk7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1JFQ09WRVJZXSBDcml0aWNhbCBtb2R1bGUgdmFsaWRhdGlvbiBmYWlsZWQ6JywgcmVzLmVycm9yKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBzZXRWYWxpZGF0aW9uKHtpc1ZhbGlkOiB0cnVlLCBpc0xvYWRpbmc6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbUkVDT1ZFUlldIENyaXRpY2FsIG1vZHVsZSB2YWxpZGF0aW9uIHN1Y2Nlc3NmdWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFNpZ25hbCBjb250ZXh0IHJlYWRpbmVzcyBhZnRlciBzdWNjZXNzZnVsIHZhbGlkYXRpb24gYW5kIGFwcCByZWFkaW5lc3NcclxuICAgICAgICAgICAgICAgICAgaWYgKGFwcFJlYWR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBJbnRlcmFjdGlvbk1hbmFnZXIucnVuQWZ0ZXJJbnRlcmFjdGlvbnMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRNYW5hZ2VyLnNpZ25hbFJlYWR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0NvbnRleHRSZWFkaW5lc3NUaW1pbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICAgICAgICAgICAgaWYgKCFtb3VudGVkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1JFQ09WRVJZXSBDcml0aWNhbCBtb2R1bGUgdmFsaWRhdGlvbiBlcnJvcjonLCBlKTtcclxuICAgICAgICAgICAgICBzZXRWYWxpZGF0aW9uKHtpc1ZhbGlkOiBmYWxzZSwgaXNMb2FkaW5nOiBmYWxzZSwgZXJyb3I6IGU/Lm1lc3NhZ2UgPz8gU3RyaW5nKGUpfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIHZhbGlkYXRlKCk7XHJcbiAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICBtb3VudGVkID0gZmFsc2U7XHJcbiAgICAgIH07XHJcbiAgfSwgW2FwcFJlYWR5LCBjb250ZXh0TWFuYWdlcl0pO1xyXG5cclxuICAvLyBBZGRpdGlvbmFsIGVmZmVjdCB0byBzaWduYWwgcmVhZGluZXNzIHdoZW4gYm90aCB2YWxpZGF0aW9uIGFuZCBhcHAgYXJlIHJlYWR5XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgaWYgKHZhbGlkYXRpb24uaXNWYWxpZCAmJiBhcHBSZWFkeSAmJiAhY29udGV4dE1hbmFnZXIuaXNDb250ZXh0UmVhZHkoKSkge1xyXG4gICAgICAgICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnJ1bkFmdGVySW50ZXJhY3Rpb25zKCgpID0+IHtcclxuICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb250ZXh0TWFuYWdlci5zaWduYWxSZWFkeSgpO1xyXG4gICAgICAgICAgICAgICAgICBsb2dDb250ZXh0UmVhZGluZXNzVGltaW5nKCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gIH0sIFt2YWxpZGF0aW9uLmlzVmFsaWQsIGFwcFJlYWR5LCBjb250ZXh0TWFuYWdlcl0pO1xyXG4gICAgLy8gTmF2aWdhdG9yIHRyZWUgd2lsbCBiZSBjb21wb3NlZCBsYXppbHkgYWZ0ZXIgdmFsaWRhdGlvbiB0byBhdm9pZCBlYXJseSBSTkdIIGFjY2Vzc1xyXG4gICAgaWYgKHZhbGlkYXRpb24uaXNMb2FkaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPFZpZXcgc3R5bGU9e3tmbGV4OiAxLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInfX0+XHJcbiAgICAgICAgICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3Igc2l6ZT1cImxhcmdlXCIgY29sb3I9e2NvbG9ycy5icmFuZFByaW1hcnl9Lz5cclxuICAgICAgICAgICAgICAgIDxUZXh0IHN0eWxlPXt7bWFyZ2luVG9wOiAxMiwgY29sb3I6IGNvbG9ycy50ZXh0U2Vjb25kYXJ5fX0+XHJcbiAgICAgICAgICAgICAgICAgICAgVmFsaWRhdGluZyBuYXRpdmUgbW9kdWxlcy4uLlxyXG4gICAgICAgICAgICAgICAgPC9UZXh0PlxyXG4gICAgICAgICAgICA8L1ZpZXc+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIGlmICghdmFsaWRhdGlvbi5pc1ZhbGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPFZpZXcgc3R5bGU9e3tmbGV4OiAxLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBwYWRkaW5nOiAxNn19PlxyXG4gICAgICAgICAgICAgICAgPFRleHQgc3R5bGU9e3tmb250U2l6ZTogdHlwb2dyYXBoeS5zaXplcy5tZCwgY29sb3I6IGNvbG9ycy50ZXh0UHJpbWFyeSwgdGV4dEFsaWduOiAnY2VudGVyJ319PlxyXG4gICAgICAgICAgICAgICAgICAgIENyaXRpY2FsIG5hdGl2ZSBtb2R1bGVzIGZhaWxlZCB2YWxpZGF0aW9uLlxyXG4gICAgICAgICAgICAgICAgPC9UZXh0PlxyXG4gICAgICAgICAgICAgICAge3ZhbGlkYXRpb24uZXJyb3IgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgPFRleHQgc3R5bGU9e3ttYXJnaW5Ub3A6IDgsIGNvbG9yOiBjb2xvcnMudGV4dFNlY29uZGFyeSwgdGV4dEFsaWduOiAnY2VudGVyJ319PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dmFsaWRhdGlvbi5lcnJvcn1cclxuICAgICAgICAgICAgICAgICAgICA8L1RleHQ+XHJcbiAgICAgICAgICAgICAgICApIDogbnVsbH1cclxuICAgICAgICAgICAgPC9WaWV3PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICAvLyBXYWl0IGZvciBjb250ZXh0IHJlYWRpbmVzcyBiZWZvcmUgbW91bnRpbmcgTmF2aWdhdGlvbkNvbnRhaW5lciB0byBhdm9pZCBmb2N1cyByYWNlXHJcbiAgICBpZiAoIWNvbnRleHRSZWFkeSkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxWaWV3IHN0eWxlPXt7ZmxleDogMSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ319PlxyXG4gICAgICAgICAgICAgICAgPEFjdGl2aXR5SW5kaWNhdG9yIHNpemU9XCJsYXJnZVwiIGNvbG9yPXtjb2xvcnMuYnJhbmRQcmltYXJ5fSAvPlxyXG4gICAgICAgICAgICAgICAgPFRleHQgc3R5bGU9e3ttYXJnaW5Ub3A6IDEyLCBjb2xvcjogY29sb3JzLnRleHRTZWNvbmRhcnl9fT5QcmVwYXJpbmcgVUkuLi48L1RleHQ+XHJcbiAgICAgICAgICAgIDwvVmlldz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgLy8gQ29tcG9zZSBuYXZpZ2F0aW9uIGFuZCBwcm92aWRlcnMgbGF6aWx5IGFmdGVyIHZhbGlkYXRpb24gcGFzc2VzXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXZhci1yZXF1aXJlc1xyXG4gICAgY29uc3QgQXBwTmF2aWdhdG9yID0gcmVxdWlyZSgnLi9zcmMvbmF2aWdhdGlvbi9BcHBOYXZpZ2F0b3InKS5kZWZhdWx0O1xyXG4gICAgY29uc3QgTmF2aWdhdG9yVHJlZSA9IChcclxuICAgICAgICA8QXBwTmF2aWdhdG9yIGFwcFJlYWR5PXthcHBSZWFkeX0vPlxyXG4gICAgKTtcclxuICAgIGNvbnN0IFdyYXBwZWRCeUxvY2FsQm91bmRhcnkgPSBzdGFnZUF0TGVhc3QoMTYpID8gKFxyXG4gICAgICAgIDxFcnJvckJvdW5kYXJ5PntOYXZpZ2F0b3JUcmVlfTwvRXJyb3JCb3VuZGFyeT5cclxuICAgICkgOiAoXHJcbiAgICAgICAgTmF2aWdhdG9yVHJlZVxyXG4gICAgKTtcclxuICAgIGNvbnN0IFdpdGhSZWFsQXV0aCA9IChcclxuICAgICAgICA8QXV0aFByb3ZpZGVyPntXcmFwcGVkQnlMb2NhbEJvdW5kYXJ5fTwvQXV0aFByb3ZpZGVyPlxyXG4gICAgKTtcclxuICAgIGNvbnN0IFdpdGhBdXRoTW9jayA9IHN0YWdlQXRMZWFzdCgxNykgPyAoXHJcbiAgICAgICAgPEF1dGhNb2NrUHJvdmlkZXI+e1dpdGhSZWFsQXV0aH08L0F1dGhNb2NrUHJvdmlkZXI+XHJcbiAgICApIDogKFxyXG4gICAgICAgIFdpdGhSZWFsQXV0aFxyXG4gICAgKTtcclxuICAgIGNvbnN0IGhhbmRsZVRpbWluZ0lzc3VlID0gKGVycm9yOiBFcnJvciwgZXJyb3JJbmZvOiBSZWFjdC5FcnJvckluZm8pID0+IHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1tUSU1JTkdfQ09PUkRJTkFUSU9OXSBSZWFjdE5vQ3Jhc2hTb2Z0RXhjZXB0aW9uIGRldGVjdGVkIGR1cmluZyBhcHAgbGlmZWN5Y2xlJyk7XHJcbiAgICAgICAgLy8gQ291bGQgYWRkIGFuYWx5dGljcyBvciBtb25pdG9yaW5nIGhlcmUgaWYgbmVlZGVkXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPFZpZXcgc3R5bGU9e3tmbGV4OiAxfX0+XHJcbiAgICAgICAgICAgIDxJbml0aWFsaXphdGlvbkVycm9yQm91bmRhcnkgb25UaW1pbmdJc3N1ZT17aGFuZGxlVGltaW5nSXNzdWV9PlxyXG4gICAgICAgICAgICAgICAgPFF1ZXJ5Q2xpZW50UHJvdmlkZXIgY2xpZW50PXtxdWVyeUNsaWVudH0+XHJcbiAgICAgICAgICAgICAgICAgICAgPFNhZmVBcmVhUHJvdmlkZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxFcnJvckJvdW5kYXJ5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRoZW1lUHJvdmlkZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1dpdGhBdXRoTW9ja31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvU2FmZUFyZWFQcm92aWRlcj5cclxuICAgICAgICAgICAgICAgIDwvUXVlcnlDbGllbnRQcm92aWRlcj5cclxuICAgICAgICAgICAgPC9Jbml0aWFsaXphdGlvbkVycm9yQm91bmRhcnk+XHJcbiAgICAgICAgPC9WaWV3PlxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XHJcbiAgICBzYWZlQXJlYToge2ZsZXg6IDEsIGJhY2tncm91bmRDb2xvcjogY29sb3JzLmJhY2tncm91bmR9LFxyXG4gICAgY29udGFpbmVyOiB7ZmxleDogMSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgcGFkZGluZzogMTZ9LFxyXG4gICAgdGl0bGU6IHtcclxuICAgICAgICBmb250U2l6ZTogdHlwb2dyYXBoeS5zaXplcy54bCxcclxuICAgICAgICBmb250V2VpZ2h0OiB0eXBvZ3JhcGh5LndlaWdodHMuYm9sZCxcclxuICAgICAgICBtYXJnaW5Cb3R0b206IDgsXHJcbiAgICAgICAgY29sb3I6IGNvbG9ycy50ZXh0UHJpbWFyeVxyXG4gICAgfSxcclxuICAgIHN1YnRpdGxlOiB7Zm9udFNpemU6IHR5cG9ncmFwaHkuc2l6ZXMubWQsIGNvbG9yOiBjb2xvcnMudGV4dFNlY29uZGFyeSwgbWFyZ2luQm90dG9tOiAxNiwgdGV4dEFsaWduOiAnY2VudGVyJ30sXHJcbiAgICBib2R5OiB7Zm9udFNpemU6IHR5cG9ncmFwaHkuc2l6ZXMuc20sIGNvbG9yOiBjb2xvcnMudGV4dFRlcnRpYXJ5LCB0ZXh0QWxpZ246ICdjZW50ZXInfSxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcHA7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBVUEsSUFBQUEsTUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsMkJBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLGNBQUEsR0FBQUMsc0JBQUEsQ0FBQUosT0FBQTtBQUNBLElBQUFLLDRCQUFBLEdBQUFELHNCQUFBLENBQUFKLE9BQUE7QUFDQSxJQUFBTSxPQUFBLEdBQUFOLE9BQUE7QUFDQSxJQUFBTyxXQUFBLEdBQUFQLE9BQUE7QUFDQSxJQUFBUSxjQUFBLEdBQUFKLHNCQUFBLENBQUFKLE9BQUE7QUFDQSxJQUFBUyxPQUFBLEdBQUFULE9BQUE7QUFDQSxJQUFBVSxpQkFBQSxHQUFBTixzQkFBQSxDQUFBSixPQUFBO0FBQ0EsSUFBQVcsWUFBQSxHQUFBWCxPQUFBO0FBQ0EsSUFBQVksV0FBQSxHQUFBWixPQUFBO0FBQ0EsSUFBQWEsWUFBQSxHQUFBYixPQUFBO0FBQ0EsSUFBQWMsc0JBQUEsR0FBQWQsT0FBQTtBQUNBLElBQUFlLGlCQUFBLEdBQUFmLE9BQUE7QUFBbUcsSUFBQWdCLFdBQUEsR0FBQWhCLE9BQUE7QUFBQSxTQUFBRCx3QkFBQWtCLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFwQix1QkFBQSxZQUFBQSx3QkFB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