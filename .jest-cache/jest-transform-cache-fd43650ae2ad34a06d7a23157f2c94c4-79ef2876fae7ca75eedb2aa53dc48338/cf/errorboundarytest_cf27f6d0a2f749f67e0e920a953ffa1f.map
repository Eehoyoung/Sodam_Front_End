{"version":3,"names":["_react","_interopRequireDefault","require","_reactTestRenderer","_interopRequireWildcard","_ErrorBoundary","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","Thrower","Error","describe","errorSpy","beforeAll","jest","spyOn","console","mockImplementation","afterAll","mockRestore","test","renderer","act","TestRenderer","create","React","createElement","ErrorBoundary","instance","root","texts","findAllByType","map","props","children","flat","expect","join","toContain","retryButton","onPress","update","after","toJSON","toBeTruthy"],"sources":["error-boundary.test.tsx"],"sourcesContent":["import React from 'react';\r\nimport TestRenderer, { act } from 'react-test-renderer';\r\nimport ErrorBoundary from '../../components/ErrorBoundary';\r\n\r\nconst Thrower: React.FC = () => {\r\n  throw new Error('Boom');\r\n};\r\n\r\ndescribe('ErrorBoundary', () => {\r\n  let errorSpy: jest.SpyInstance;\r\n  beforeAll(() => {\r\n    errorSpy = jest.spyOn(console, 'error').mockImplementation(() => {});\r\n  });\r\n  afterAll(() => {\r\n    errorSpy.mockRestore();\r\n  });\r\n\r\n  test('renders fallback UI when child throws and can retry to reset state', () => {\r\n    let renderer: TestRenderer.ReactTestRenderer;\r\n\r\n    act(() => {\r\n      renderer = TestRenderer.create(\r\n        React.createElement(ErrorBoundary, null, React.createElement(Thrower))\r\n      );\r\n    });\r\n\r\n    const instance = (renderer as any).root;\r\n    const texts = instance.findAllByType('Text').map((t: any) => t.props.children).flat();\r\n    expect(texts.join(' ')).toContain('문제가 발생했습니다');\r\n\r\n    const retryButton = instance.findAllByType('TouchableOpacity')[0];\r\n    act(() => {\r\n      retryButton.props.onPress();\r\n    });\r\n\r\n    act(() => {\r\n      (renderer as any).update(\r\n        React.createElement(\r\n          ErrorBoundary,\r\n          null,\r\n          React.createElement('View', null, React.createElement('Text', null, 'OK'))\r\n        )\r\n      );\r\n    });\r\n\r\n    const after = (renderer as any).toJSON();\r\n    expect(after).toBeTruthy();\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}